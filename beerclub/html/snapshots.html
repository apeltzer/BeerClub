{# Snapshots page. #}

{% extends 'base.html' %}

{% block head_title %}Snapshots{% end %}

{% block body_title %}Snapshots{% end %}

{% block content %}
<div class="row mt-4">
  <div class="col-md">
    <table class="table table-sm" id="snapshots">
      <thead>
        <tr>
          <th scope="col" class="break">Date</th>
          <th scope="col" class="break">Balance ({{ settings['CURRENCY'] }})</th>
          {% for status in constants.STATUSES %}
          <th scope="col" class="break"># {{ status }}</th>
          {% end %}
        </tr>
      </thead>
      <tbody>
        {% for snapshot in snapshots %}
        <tr>
          <td>{{ snapshot['date'] }}</td>
          <td>{% module Money(snapshot['balance'], currency=False) %}</td>
          {% for status in constants.STATUSES %}
          <td>{{ snapshot['member_counts'][status] }}</td>
          {% end %}
        </tr>
        {% end %} {# for snapshot in snapshots #}
      </tbody>
    </table>
  </div>
</div>

{% set action_url = reverse_url('snapshots') %}
{% include 'from_to_selection.html' %}

{% end %} {# block content #}

{% block javascript %}
<script>
  $(function() {
    $("#snapshots").DataTable( {
      "pagingType": "full_numbers",
      "order": [[ 0, "desc"]],
    });
  });
</script>
{% end %} {# block javascript #}
